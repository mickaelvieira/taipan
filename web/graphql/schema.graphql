schema {
  query: Query
  mutation: Mutation
}

type Query {
  GetBookmark(url: String!): UserBookmark
  GetLatestBookmarks(offset: Int, limit: Int): BookmarkCollection
}

type Mutation {
  Bookmark(url: String!): UserBookmark
  # DeleteBookmark(id: ID!): Boolean
  # MarkBookmarkAsRead(id: ID!): Bookmark
  # MarkBookmarkAsUnread(id: ID!): Bookmark
}

enum BookmarkStatus {
  FETCHED
  PENDING
  FETCHING
  FAILED
}

# https://www.apollographql.com/docs/graphql-tools/scalars

type BookmarkCollection {
  offset: Int!
  total: Int!
  limit: Int!
  results: [UserBookmark]
}

interface Node {
  id: ID!
}

# @TODO To implement
type BookmarkImage {
  name: String!
  url: String!
  width: Int!
  height: Int!
  format: String!
}

type Bookmark implements Node {
  id: ID!
  url: String!
  lang: String!
  charset: String!
  title: String!
  description: String!
  image: String
  status: BookmarkStatus!
  createdAt: String!
  updatedAt: String!
}

type UserBookmark implements Node {
  id: ID!
  url: String!
  lang: String!
  charset: String!
  title: String!
  description: String!
  image: BookmarkImage
  updatedAt: String!
  addedAt: String!
  isRead: Boolean!
}

