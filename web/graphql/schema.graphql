schema {
  query: Query
  mutation: Mutation
}

type Query {
  GetBookmark(url: String!): Bookmark
  News(offset: Int, limit: Int): DocumentCollection
  GetFavorites(offset: Int, limit: Int): BookmarkCollection
  GetReadingList(offset: Int, limit: Int): BookmarkCollection
  Feeds(offset: Int, limit: Int): FeedCollection
  Documents(offset: Int, limit: Int): DocumentCollection
}

type Mutation {
  Bookmark(url: String!): Bookmark
  Unbookmark(url: String!): Document
  ChangeBookmarkReadStatus(url: String!, isRead: Boolean!): Bookmark
}

enum BookmarkStatus {
  FETCHED
  PENDING
  FETCHING
  FAILED
}

# https://www.apollographql.com/docs/graphql-tools/scalars

type DocumentCollection {
  offset: Int!
  total: Int!
  limit: Int!
  results: [Document]
}

type BookmarkCollection {
  offset: Int!
  total: Int!
  limit: Int!
  results: [Bookmark]
}

type FeedCollection {
  offset: Int!
  total: Int!
  limit: Int!
  results: [Feed]
}

interface Node {
  id: ID!
}

type Image {
  name: String!
  url: String!
  width: Int!
  height: Int!
  format: String!
}

type Document implements Node {
  id: ID!
  url: String!
  lang: String!
  charset: String!
  title: String!
  description: String!
  image: Image
  createdAt: String!
  updatedAt: String!
  feeds: [Feed]
  logEntries: [HTTPClientLog]
}

type Bookmark implements Node {
  id: ID!
  url: String!
  lang: String!
  charset: String!
  title: String!
  description: String!
  image: Image
  updatedAt: String!
  addedAt: String!
  isRead: Boolean!
}

type Feed implements Node {
  id: ID!
  url: String!
  type: String!
  title: String!
  status: String!
  createdAt: String!
  updatedAt: String!
  logEntries: [HTTPClientLog]
}

type HTTPClientLog implements Node {
  id: ID!
  uri: String!
  statusCode: Int!
  contentType: String!
  createdAt: String!
}